# base node image
FROM node:16-bullseye-slim

# set for base and all that inherit from it
# ENV NODE_ENV=development

# Install openssl for Prisma
RUN apt-get update && apt-get install -y openssl

RUN mkdir /app
WORKDIR /app

ADD package.json package-lock.json ./
RUN npm install --legacy-peer-deps

ADD prisma .
RUN npx prisma generate

ADD . .
# CMD ["node", "node_modules/.bin/remix", "dev"]
